<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>magnifier</title>
    <link rel="shortcut icon" href="../images/ke.ico" type="image/x-icon">
    <link href="css/index.css" rel="stylesheet" />
    <script src="js/jquery-1.7.1.js"></script>
    <script src="js/showBigImg.js"></script>
</head>
<body>
    <div id="preview">
        <div id="spec-n1" class="jqzoom" onclick="window.open('/bigimage.aspx?id=739467')" clstag="shangpin|keycount|product|spec-n1">
            <img data-img="1" width="350" height="350" src="images/1md.jpg" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" jqimg="images/1lg.jpg" >

            <div class="jqZoomPup" style="width: 175px; height: 175px; visibility: visible; top: 100px; left: 100px;">&nbsp;</div>
        </div>
        <div class="zoomdiv">
            <img style="position: absolute" />
        </div>
        <div id="spec-list" clstag="shangpin|keycount|product|spec-n5">
            <img class="spec-control disabled" id="spec-forward"/>
            <img class="spec-control" id="spec-backward"/>
            <div class="spec-items" style="position: absolute; width: 310px; height: 54px; overflow: hidden;">
                <ul class="lh" style="width: 1178px;">
                    <li>
                        <img data-img="1" class="img-hover" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/1min.jpg" width="50" height="50" data-url="images/1md.jpg" jqimg="images/1lg.jpg" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/2min.jpg" width="50" height="50" data-url="images/2md.jpg" jqimg="images/2lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/3min.jpg" width="50" height="50" data-url="images/3md.jpg" jqimg="images/3lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/4min.jpg" width="50" height="50" data-url="images/4md.jpg" jqimg="images/4lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/5min.jpg" width="50" height="50" data-url="images/5md.jpg" jqimg="images/5lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/6min.jpg" width="50" height="50" data-url="images/6md.jpg" jqimg="images/6lg.jpg" class="" /></li>
                    <li>s
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/7min.jpg" width="50" height="50" data-url="images/7md.jpg" jqimg="images/7lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/2min.jpg" width="50" height="50" data-url="images/2md.jpg" jqimg="images/2lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/3min.jpg" width="50" height="50" data-url="images/3md.jpg" jqimg="images/3lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/4min.jpg" width="50" height="50" data-url="images/4md.jpg" jqimg="images/4lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/5min.jpg" width="50" height="50" data-url="images/5md.jpg" jqimg="images/5lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/6min.jpg" width="50" height="50" data-url="images/6md.jpg" jqimg="images/6lg.jpg" class="" /></li>
                    <li>s
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/7min.jpg" width="50" height="50" data-url="images/7md.jpg" jqimg="images/7lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/2min.jpg" width="50" height="50" data-url="images/2md.jpg" jqimg="images/2lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/3min.jpg" width="50" height="50" data-url="images/3md.jpg" jqimg="images/3lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/4min.jpg" width="50" height="50" data-url="images/4md.jpg" jqimg="images/4lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/5min.jpg" width="50" height="50" data-url="images/5md.jpg" jqimg="images/5lg.jpg" class="" /></li>
                    <li>
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/6min.jpg" width="50" height="50" data-url="images/6md.jpg" jqimg="images/6lg.jpg" class="" /></li>
                    <li>s
                        <img data-img="1" alt="苹果（APPLE）iPhone 4 8G版 3G手机（白色）WCDMA/GSM 购机送费" src="images/7min.jpg" width="50" height="50" data-url="images/7md.jpg" jqimg="images/7lg.jpg" class="" /></li>
                </ul>
            </div>
        </div>
    </div>
    <script>
//图片放大
        ; (function ($) {
            $.fn.zoom = function (options) {
                var setings = {
                }
                $.extend(setings, options)
                var $img = $(this).find('img');
                var imgwidth = $img.width();
                var $jqZoomPup = $(this).find('div');
                var jqZoomPupwidth = $jqZoomPup.width();
                var halfjqZoomPupwidth = jqZoomPupwidth / 2;
                var $zoomdiv = $(this).next();
                var zoomdivwidth = $zoomdiv.width();
                this.mousemove(function (e) {
                    $jqZoomPup.css({ display: 'block' })
                    $zoomdiv.css({ display: 'block' })
                    var px = e.pageX - $(this).offset().left - halfjqZoomPupwidth;
                    var py = e.pageY - $(this).offset().top - halfjqZoomPupwidth;
                    if (px < 0) {
                        px = 0;
                    } else if (px > jqZoomPupwidth) {
                        px = jqZoomPupwidth
                    }
                    if (py < 0) {
                        py = 0;
                    } else if (py > jqZoomPupwidth) {
                        py = jqZoomPupwidth;
                    }
                    $jqZoomPup.css({ left: px, top: py })
                    $zoomdiv.find('img').attr('src', $img.attr('jqimg'))
                    $zoomdiv.find('img').css({ left: -1 * px * (zoomdivwidth * 2 / imgwidth), top: -1 * py * (zoomdivwidth * 2 / imgwidth) })
                }).mouseleave(function () {
                    $jqZoomPup.css({ display: 'none' });
                    $zoomdiv.css({ display: 'none' });
                })
            }
        }(jQuery))

    </script>
    <script>
//点击按钮
        ; (function ($) {
            $.fn.imgmag = function (opstions) {
                var setings = {
                    show: 0,
                    unClass: '',
                    gonum:1,
                    auto:false
                };
                $.extend(setings, opstions)
                var div = this.next().next()
                var lis = this.next().next().find('li').length
		        var liwidth = this.next().next().find('li').width();
                var index = 0;
                var self = this;
                if (setings.auto) {
                    $(this).removeClass(setings.unClass)
                }
                $(this).next().click(function () {
                    if (index < Math.round((lis - setings.show) / setings.gonum)) {
                        index++
                        $(self).removeClass(setings.unClass)
                        div.stop().animate({
                            scrollLeft: liwidth * setings.gonum * index
                        }, 300)
                    }
                    if (setings.gonum *index >= lis - setings.show) {
                        if (setings.auto) {
                            index = 0
                        } else {
                            $(self).next().addClass(setings.unClass)
                        }
                    }
                })
                $(this).click(function () {
                    if (setings.gonum * index == 0 && setings.auto) {
                            index = Math.round((lis - setings.show) / setings.gonum)
                        }
                    if (index > 0) {
                        $(self).next().removeClass(setings.unClass)
                        index--
                        div.stop().animate({
                            scrollLeft: liwidth * setings.gonum * index
                        }, 300)
                    }
                    if (setings.gonum * index == 0) {
                        if (!setings.auto) {
                            $(self).addClass(setings.unClass)
                        }
                    }
                })
            }
        }(jQuery))

    </script>
    <script>
        $('#spec-n1').zoom();
        $('#spec-list ul li img').each(function () {
            $(this).mouseover(function () {
                $('#spec-list ul li img').removeClass();
                $(this).addClass('img-hover');
                $('#spec-n1 img').attr('src', $(this).attr('data-url'))
                $('#spec-n1 img').attr('jqimg', $(this).attr('jqimg'));
                $('.zoomdiv img')[0].src='';
            })
        })
        $("#spec-forward").imgmag({ show: 5, unClass: 'disabled',gonum:4,auto:true });
    </script>
</body>
</html>


