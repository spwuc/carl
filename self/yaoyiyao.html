<!doctype html>   
<html>   
<head>   
    <meta charset="utf-8">
		<meta content="yes" name="apple-mobile-web-app-capable">
		<meta content="black" name="apple-mobile-web-app-status-bar-style">
		<!--作用是控制状态栏显示样式-->
		<meta content="telephone=no" name="format-detection">
		<meta content="email=no" name="format-detection">
		<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
       
    <title>HTML5 手机摇一摇</title>    
</head>
   
<body>   
HTML 5 手机摇一摇，在手机上运行的。 
<div class="speed">
	
</div>
<script src="jquery-1.8.0.js" type="text/javascript"></script>
<script type="text/javascript">
        var color = new Array('#fff', '#ff0', '#f00', '#000', '#00f', '#0ff');
        if (window.DeviceMotionEvent) {
            var speed = 15;
            var x = y = z = lastX = lastY = lastZ = 0;
            window.addEventListener('devicemotion', function () {
                var acceleration = event.accelerationIncludingGravity;
                x = acceleration.x;
                y = acceleration.y;
                var xspeed = Math.abs(x - lastX) ;
                var yspeed = Math.abs(y - lastY);
                if(xspeed>30){
                	$('.speed').append('<p>横向摇晃速度超过30了</p>')
                }
                if(yspeed>30){
                	$('.speed').append('<p>纵向摇晃速度超过30了</p>')
                }
                if(xspeed>15){
                	$('.speed').append('<p>横向摇晃速度超过15了</p>')
                }
                if(yspeed>15){
                	$('.speed').append('<p>纵向摇晃速度超过15了</p>')
                }
                
                lastX = x;
                lastY = y;
            }, false);
        }
    </script>
</body>
   
</html>